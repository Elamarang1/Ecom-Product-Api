{
    "sourceFile": "routes/shipping/shiprocket-track.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1760002431123,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1760002431123,
            "name": "Commit-0",
            "content": "const express = require(\"express\");\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/:awb\", async (req, res) => {\r\n  try {\r\n    const { awb } = req.params;\r\n\r\n    const response = await fetch(\r\n      `https://apiv2.shiprocket.in/v1/external/courier/track/awb/${awb}`,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${process.env.SHIPROCKET_TOKEN}`,\r\n        },\r\n      }\r\n    );\r\n\r\n    const data = await response.json();\r\n    if (!response.ok) {\r\n      return res.status(response.status).json({\r\n        error: \"Tracking failed\",\r\n        details: data,\r\n      });\r\n    }\r\n\r\n    res.json(data);\r\n  } catch (error) {\r\n    console.error(\"Tracking error:\", error);\r\n    res.status(500).json({ error: \"Internal Server Error\" });\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"
        }
    ]
}